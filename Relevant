# Relevant â€” TryHackMe (Medium) ğŸªŸğŸ§ ğŸ§°

Relevant is a clean **Windows transition box** â€” perfect for anyone moving
from Linux-heavy CTFs into **realistic Windows enumeration**.

No magic exploits.
Just SMB, IIS, and Windows tokens doing what they always do when misconfigured.

---

## Machine Overview ğŸ–¥ï¸ğŸ“Œ

Machine Name: Relevant  
Target IP: 10.10.xxx.xxx  
Operating System: Windows Server 2016  
Difficulty: Medium  

This machine focuses on:
- **Windows enumeration fundamentals**
- **SMB abuse** and credential handling
- Web shell access via **IIS**
- Privilege escalation using **token impersonation**
- Understanding how Windows services interact

A very realistic enterprise-style attack path.

---

## Initial Reconnaissance ğŸ”

A full TCP scan was performed to identify exposed services.

nmap -sC -sV 10.10.xxx.xxx

Services discovered:

80/tcp    HTTP    Microsoft IIS 10.0 ğŸŒ  
135/tcp   MSRPC   Windows RPC  
139/tcp   NetBIOS File Sharing  
445/tcp   SMB     Windows Server 2016 ğŸ“  
3389/tcp  RDP     Remote Desktop ğŸ”’  

From this alone, it was clear:
- IIS was running
- SMB was exposed
- RDP was enabled

Classic Windows surface.

---

## SMB Enumeration ğŸ“ğŸ§ 

With SMB exposed and message signing not required, enumeration began there.

Listing shares revealed an accessible share:

ğŸ‘‰ **nt4wrksv**

Accessing the share without authentication was possible.

Inside it:
- A file named **passwords.txt**

The contents were encoded.

After decoding:
- Valid credentials were recovered

At this point, authentication was no longer the problem.

---

## Initial Access Attempt â€” RDP ğŸ”

The recovered credentials were tested against RDP.

Results:
- One account failed authentication
- Other credentials were valid but **did not grant RDP access**

This indicated:
ğŸ‘‰ Credentials were correct  
ğŸ‘‰ **RDP was not the right entry point**

Time to re-evaluate the surface.

---

## Extended Enumeration ğŸ”

A full port scan revealed an additional HTTP service running on a high port:

ğŸ‘‰ **49663/tcp**

Visiting this port exposed a web service tied to the same application context.

Critical question formed:

> Is the SMB share mapped to the web root?

---

## Web Shell via SMB Upload ğŸ’¥

The SMB share allowed **write access**.

Steps taken:
- Created a simple **ASP web shell**
- Uploaded it directly to the SMB share
- Accessed the shell via the web service

Result:
- Remote command execution achieved  
- Initial foothold confirmed  

User flag retrieved at this stage.

This is a textbook Windows misconfiguration chain.

---

## Post-Exploitation Enumeration ğŸ”ğŸ§°

With command execution on the system, enumeration continued using **winPEAS**.

Key findings:
- Token impersonation privileges available
- Environment vulnerable to known Windows privilege escalation techniques

This strongly pointed toward token-based escalation.

---

## Privilege Escalation â€” Token Impersonation ğŸš€

The system was vulnerable to **PrintSpoofer**, a tool that abuses token privileges
to impersonate **NT AUTHORITY\SYSTEM**.

Executing PrintSpoofer resulted in:
- SYSTEM-level shell obtained
- Full administrative control

No kernel exploits.
Just Windows being Windows.

---

## Root Flag ğŸğŸ‘‘

- SYSTEM privileges confirmed  
- Root flag retrieved from Administratorâ€™s desktop  
- Machine fully compromised  

Relevant completed cleanly.

---

## Key Takeaways ğŸ§ ğŸ“Œ

- Windows enumeration is very different from Linux  
- SMB misconfigurations are extremely dangerous  
- Writable SMB shares + IIS often mean instant RCE  
- High ports must always be scanned  
- Token impersonation is a common real-world Windows privesc  
- Tools like **winPEAS** are essential on Windows targets  

---

## ğŸ“¬ Contact & Projects ğŸ‘¨â€ğŸ’»ğŸ“

**Daksh Baweja**  
ğŸ“§ Email: dakshbaweja20@gmail.com  
ğŸ™ GitHub: https://github.com/sudo0xksh  
ğŸ”— LinkedIn: https://www.linkedin.com/in/dakshbaweja  

---

## ğŸš€ Deteroid ğŸ”¥

**Deteroid** is a community-driven platform for bug bounty hunters  
to share insights, rate programs, and collaborate on real-world findings.

Built to help hackers **hunt smarter, not louder**.

ğŸ“¸ Instagram: https://www.instagram.com/deteroids/

---

## Final Words â˜•

Relevant teaches one important transition lesson:

> â€œWindows doesnâ€™t need exploits â€”  
> it needs one misconfigured service.â€

SMB â†’ IIS â†’ Token abuse.

Medium box.  
Very real-world Windows chain.

# HA: Joker â€” TryHackMe (Medium â€¢ Guided) ğŸƒğŸ§ ğŸ§

HA: Joker is a guided Medium box that stitches together
**layered web enumeration**, **credential harvesting**, **CMS exploitation**,
and a clean **LXD container escape**.

It starts playful.
It ends with host-level root.

---

## Machine Overview ğŸ–¥ï¸ğŸ“Œ

Machine Name: HA: Joker  
Target IP: 10.10.xxx.xxx  
Operating System: Ubuntu-based Linux  
Difficulty: Guided CTF  

This machine focuses on:
- Enumerating **multiple web services**
- Breaking **HTTP Basic Auth**
- Exploiting **Joomla CMS**
- Escaping an **LXD container**
- Achieving **full host compromise**

Web â†’ CMS â†’ Container â†’ Host.

---

## Initial Reconnaissance ğŸ”

A full TCP scan was performed to map exposed services.

nmap -sC -sV 10.10.xxx.xxx

Services discovered:

22/tcp    SSH     OpenSSH 7.6p1 ğŸ”  
80/tcp    HTTP    Apache 2.4.29 (HA: Joker) ğŸŒ  
8080/tcp  HTTP    Apache 2.4.29 (Basic Auth protected) ğŸ”’  

Two HTTP services immediately suggested **layered enumeration**.

---

## Web Enumeration (Port 80) ğŸŒğŸ§

The main website showed minimal content.

A provided hint suggested **directory brute-forcing with extensions**.
Following that guidance revealed a sensitive file:

ğŸ‘‰ **secret.txt**

Inside it:
- A valid username was disclosed: **joker**

This shifted the attack path from discovery to authentication.

---

## Attacking Port 8080 (Basic Auth) ğŸ”

Port 8080 was protected using **HTTP Basic Authentication**.

Using the discovered username:
- A targeted brute-force attack was launched
- A common password wordlist was used

Result:
- Valid credentials recovered
- Access to the service on port 8080 obtained

Once authenticated, the real application appeared.

---

## CMS Discovery & Enumeration ğŸ§©

The authenticated service was identified as **Joomla CMS**, including access to:

/administrator/

Further enumeration revealed a sensitive archive:

ğŸ‘‰ **backup.zip**

At this point, everything pointed toward credential extraction.

---

## Credential Extraction ğŸ”‘

The backup archive was password-protected.

Steps taken:
- Password hash extracted
- Hash cracked using **john**

Inside the archive:
- A MySQL dump containing **hashed administrator credentials**

The admin password was cracked successfully.

Result:
- Full Joomla admin access achieved

---

## Initial Foothold ğŸ’¥

With admin access:
- A malicious payload was uploaded
- Reverse shell obtained

Code execution confirmed.

However, environment inspection revealed a critical detail.

---

## Container Discovery (LXD) ğŸ§±

The shell was running **inside an LXD container**, not directly on the host.

This explained:
- Restricted privileges
- Limited system visibility

The challenge shifted from traditional privilege escalation to:
ğŸ‘‰ **Container escape**

---

## Escaping the LXD Container ğŸš€

Research into LXD misconfigurations revealed a known escape technique:

- Import a **privileged container image**
- Mount the **host filesystem**
- Execute commands with elevated privileges

The method worked as expected.

Result:
- Host filesystem accessed
- Control moved outside the container

---

## Root Access ğŸğŸ‘‘

- Root privileges on the host confirmed  
- Final flag retrieved and submitted  
- Full system compromise achieved  

HA: Joker completed.

---

## Key Takeaways ğŸ§ ğŸ“Œ

- Multiple web services often indicate privilege separation  
- HTTP Basic Auth is only as strong as its credentials  
- Backup files are high-value targets  
- CMS admin access frequently leads directly to RCE  
- Containers are **not** security boundaries when misconfigured  
- LXD misconfigs can result in full host compromise  

---

## ğŸ“¬ Contact & Projects ğŸ‘¨â€ğŸ’»ğŸ“

**Daksh Baweja**  
ğŸ“§ Email: dakshbaweja20@gmail.com  
ğŸ™ GitHub: https://github.com/sudo0xksh  
ğŸ”— LinkedIn: https://www.linkedin.com/in/dakshbaweja  

---

## ğŸš€ Deteroid ğŸ”¥

**Deteroid** is a community-driven platform for bug bounty hunters  
to share insights, rate programs, and collaborate on real-world findings.

Built to help hackers **hunt smarter, not louder**.

ğŸ“¸ Instagram: https://www.instagram.com/deteroids/

---

## Final Words â˜•

HA: Joker delivers one clear message:

> â€œContainers donâ€™t save you from bad decisions.â€

Two websites.  
One CMS.  
One container escape.

Medium box.  
Very real-world attack chain.

# Pyrat â€” TryHackMe (Medium) ğŸâš“ğŸ§ 

Pyrat is a Medium-level machine that punishes one very specific mistake:

> **Treating user input as executable code.**

No traditional web app.  
No forms.  
No CMS.

Just a **custom Python service**, raw input, loud error messages,  
and developers leaving their Git repo right on the server.

---

## Machine Overview ğŸ–¥ï¸ğŸ“Œ

Machine Name: Pyrat  
Target IP: 10.81.xxx.xxx  
Operating System: Ubuntu-based Linux  

This machine focuses on:
- Breaking a **custom Python-based web service**
- Achieving **RCE through unconventional input handling**
- Escalating privileges via **exposed Git repository metadata**

This is less about tools â€” more about **understanding behavior**.

---

## Initial Reconnaissance ğŸ”

Started with a full TCP scan to understand what the system exposed.

nmap -sC -sV 10.81.xxx.xxx

Services discovered:

22/tcp    SSH       OpenSSH 8.2p1 ğŸ”  
8000/tcp  HTTP-alt  SimpleHTTP/0.6 (Python 3.11.2) ğŸ  

Port **8000** immediately behaved strangely.

Instead of HTML or JSON, it returned **Python error messages**.

That alone changed the entire attack strategy.

---

## Web Service Analysis (Port 8000) ğŸ§ ğŸ

Interacting with the service revealed multiple red flags:

- GET and OPTIONS returned Python exceptions  
- Error messages referenced Python syntax and variables  
- Sample errors included:

name 'GET' is not defined  
source code string cannot contain null bytes  

This strongly suggested:

ğŸ‘‰ **User input was being evaluated as Python code**, not parsed as HTTP.

At this point, this wasnâ€™t a web app â€”  
it was a poorly disguised Python interpreter.

---

## Command Execution via Network Interaction ğŸ“¡ğŸ’¥

Instead of using a browser, the service was tested via **raw socket interaction**.

Sending crafted input directly to the service resulted in:

- Python expressions being evaluated
- System-level commands executing
- A Python shellâ€“like environment exposed over the network

This confirmed **remote code execution** without exploits.

The application did the damage itself.

---

## Initial Foothold ğŸ¾

Using the execution context, a reverse shell was established.

Results:
- Stable interactive shell obtained
- User-level access confirmed

Initial compromise complete.

Now the real work began.

---

## Post-Exploitation Enumeration ğŸ”

Standard enumeration followed.

One directory stood out immediately:

/opt/dev

Inside it:
- A `.git` directory was present  
- Full Git metadata accessible  

A Git repository on a production system almost always means:
ğŸ‘‰ **credentials, notes, or internal logic leaked**

---

## Credential Discovery via Git Metadata ğŸ§¬ğŸ”‘

Inspecting Git configuration and history revealed:

- Hardcoded credentials
- References to a user named **think**

Authentication attempt using the recovered credentials succeeded.

User switched:
- think âœ…

This was not privilege escalation â€”  
this was **developers handing over access**.

---

## Lateral Movement & Privilege Escalation ğŸš€

Further analysis of the Git repository revealed:

- Internal notes
- Administrative hints
- Context around elevated access

Using this information, authentication as **admin** was achieved.

From there:
- Root access was obtained
- Privilege escalation completed without kernel exploits

---

## Root Access ğŸğŸ‘‘

- Root privileges confirmed  
- root.txt flag retrieved  
- Full system compromise achieved  

The box fell apart due to logic, not vulnerabilities.

---

## Key Takeaways ğŸ§ ğŸ“Œ

- Custom services are the most dangerous attack surface  
- Error messages expose backend logic faster than scanning  
- Executing user input is catastrophic  
- Git repositories should never ship with metadata  
- Developer artifacts often contain everything attackers need  

---

## ğŸ“¬ Contact & Projects ğŸ‘¨â€ğŸ’»ğŸ“

**Daksh Baweja**  
ğŸ“§ Email: dakshbaweja20@gmail.com  
ğŸ™ GitHub: https://github.com/sudo0xksh  
ğŸ”— LinkedIn: https://www.linkedin.com/in/dakshbaweja  

---

## ğŸš€ Deteroid ğŸ”¥

**Deteroid** is a community-driven platform for bug bounty hunters  
to share insights, rate programs, and collaborate on real-world findings.

Built to help hackers **hunt smarter, not louder**.

ğŸ“¸ Instagram: https://www.instagram.com/deteroids/

---

## Final Words â˜•

Pyrat teaches one hard truth:

> â€œWhen developers write their own services, attackers donâ€™t need exploits â€” they need patience.â€

Medium box.  
Real-world logic flaws.  
Very realistic mistakes.
